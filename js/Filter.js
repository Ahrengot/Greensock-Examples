// Generated by CoffeeScript 1.4.0
(function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};t=Backbone.Router.extend({routes:{"":"root",":filter":"setFilter"},initialize:function(){return Backbone.history.start({pushState:!1})},root:function(){return $(document).trigger("gs_update_filter",["*"])},setFilter:function(e){return $(document).trigger("gs_update_filter",[e])}});e=function(){function e(){this.updateFilter=n(this.updateFilter,this);this.handleFilterClick=n(this.handleFilterClick,this);this.items=$(".gallery .example");this.filters=$("nav.filter li");$(document).on("gs_update_filter",this.updateFilter);this.router=new t;this.filters.on("click a",this.handleFilterClick)}e.prototype.handleFilterClick=function(e){var t;t=$(e.target).data("filter");return this.router.navigate(t,!0)};e.prototype.updateFilter=function(e,t){t==="*"?this.items.removeClass("hidden"):this.items.each(function(){return $(this).toggleClass("hidden",!$(this).hasClass(t))});return this.updateFilterNav(t)};e.prototype.updateFilterNav=function(e){return this.filters.each(function(){var t,n;t=$(this);n=t.find("> a").data("filter")===e;return t.toggleClass("current",n)})};return e}();window.Filter=e}).call(this);